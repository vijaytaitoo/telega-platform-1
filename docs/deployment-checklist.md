# üö¢ –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è Tele‚Ä¢Ga

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### ‚úÖ Environment Variables
- [ ] –°–æ–∑–¥–∞—Ç—å `.env.production` –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `DATABASE_URL` (PostgreSQL)
- [ ] –î–æ–±–∞–≤–∏—Ç—å `JWT_SECRET` –∏ `JWT_REFRESH_SECRET`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `TELEGRAM_BOT_TOKEN`
- [ ] –î–æ–±–∞–≤–∏—Ç—å `STRIPE_SECRET_KEY` –∏ `STRIPE_WEBHOOK_SECRET`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `REDIS_URL`
- [ ] –î–æ–±–∞–≤–∏—Ç—å `MINIO_ACCESS_KEY` –∏ `MINIO_SECRET_KEY`

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: `pnpm run db:mig`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø—ã

### ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω—ã:
  - `api.telega.uz`
  - `studio.telega.uz`
  - `shop.telega.uz`
  - `bot.telega.uz`
- [ ] –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (Let's Encrypt)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

---

## üê≥ Docker –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### ‚úÖ Dockerfile –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `Dockerfile.backend`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `Dockerfile.frontend`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `Dockerfile.bots`
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è –≤ –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–π —Å–±–æ—Ä–∫–µ

### ‚úÖ docker-compose.prod.yml
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å volumes –¥–ª—è PostgreSQL
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å volumes –¥–ª—è nginx
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å volumes –¥–ª—è certbot
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### ‚úÖ –û–±—Ä–∞–∑—ã
- [ ] –°–æ–±—Ä–∞—Ç—å –≤—Å–µ Docker –æ–±—Ä–∞–∑—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ Docker Hub (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üîß –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### ‚úÖ VPS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] Ubuntu 22.04 LTS
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∏ Docker Compose
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å firewall (–ø–æ—Ä—Ç—ã 80, 443, 22)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å swap —Ñ–∞–π–ª
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx (–µ—Å–ª–∏ –Ω–µ —á–µ—Ä–µ–∑ Docker)

### ‚úÖ –î–æ–º–µ–Ω—ã –∏ DNS
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å A –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS –ø—Ä–æ–ø–∞–≥–∞—Ü–∏—é
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CNAME –∑–∞–ø–∏—Å–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### ‚úÖ SSH –¥–æ—Å—Ç—É–ø
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏
- [ ] –û—Ç–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–æ–ª—å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å fail2ban

---

## üöÄ –î–µ–ø–ª–æ–π

### ‚úÖ –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π
```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/your-username/telega-platform-1.git
cd telega-platform-1

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env —Ñ–∞–π–ª—ã
cp .env.example .env.production
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env.production

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker compose -f docker-compose.prod.yml up -d

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker compose -f docker-compose.prod.yml ps
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- [ ] API –¥–æ—Å—Ç—É–ø–µ–Ω: `https://api.telega.uz/health`
- [ ] Studio –¥–æ—Å—Ç—É–ø–µ–Ω: `https://studio.telega.uz`
- [ ] Shop –¥–æ—Å—Ç—É–ø–µ–Ω: `https://shop.telega.uz`
- [ ] Bot –æ—Ç–≤–µ—á–∞–µ—Ç: `https://bot.telega.uz`

### ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
docker compose -f docker-compose.prod.yml run --rm certbot certonly --webroot --webroot-path=/var/www/certbot -d api.telega.uz -d studio.telega.uz -d shop.telega.uz -d bot.telega.uz

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å nginx
docker compose -f docker-compose.prod.yml restart nginx
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Prometheus (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Grafana –¥–∞—à–±–æ—Ä–¥—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –≤ Telegram

### ‚úÖ –ë—ç–∫–∞–ø—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø—ã —Ñ–∞–π–ª–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

---

## üîÑ CI/CD (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### ‚úÖ GitHub Actions
- [ ] –°–æ–∑–¥–∞—Ç—å `.github/workflows/deploy.yml`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å secrets –≤ GitHub
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

### ‚úÖ Secrets
- [ ] `VPS_HOST` - IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- [ ] `VPS_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è SSH
- [ ] `VPS_SSH_KEY` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á
- [ ] `DOCKER_HUB_TOKEN` - —Ç–æ–∫–µ–Ω –¥–ª—è Docker Hub

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
- [ ] –¢–µ—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
- [ ] –¢–µ—Å—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
- [ ] –¢–µ—Å—Ç –æ–ø–ª–∞—Ç—ã

### ‚úÖ –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π API
- [ ] –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ë–î
- [ ] –¢–µ—Å—Ç –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å rate limiting
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT —Ç–æ–∫–µ–Ω—ã

---

## üì± Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### ‚úÖ –ë–æ—Ç—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å inline —Ä–µ–∂–∏–º
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ Telegram Stars

### ‚úÖ WebApp
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å WebApp –≤ Telegram
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏

---

## üö® Troubleshooting

### ‚ùå –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: Docker –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
```bash
# –†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å Docker
docker network ls
docker network inspect telega_telega
```

**–ü—Ä–æ–±–ª–µ–º–∞**: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
```bash
# –†–µ—à–µ–Ω–∏–µ: –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å certbot
docker compose -f docker-compose.prod.yml restart certbot
```

**–ü—Ä–æ–±–ª–µ–º–∞**: nginx –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
```bash
# –†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
docker compose -f docker-compose.prod.yml exec nginx nginx -t
```

### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
- Telegram: @TeleGaSupportBot
- Email: support@telega.uz
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/architecture.md`

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã
- [ ] –ë–æ—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
- [ ] WebApp —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram
- [ ] –ü–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë—ç–∫–∞–ø—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**üéâ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** 