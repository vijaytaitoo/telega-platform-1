name: üõ† Deploy with Telegram Notifications

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: üì¶ Checkout
        uses: actions/checkout@v3

      - name: üöÄ Run deploy
        run: |
          echo "‚úÖ –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω."

      - name: ‚úÖ Telegram success message
        if: success()
        run: |
          curl -s -X POST https://api.telegram.org/bot${{ secrets.TELEGRAM_DEPLOY_BOT_TOKEN }}/sendMessage \
            -d chat_id=${{ secrets.TELEGRAM_DEPLOY_CHAT_ID }} \
            -d parse_mode=Markdown \
            -d text="‚úÖ *–£—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π!*\n–ü—Ä–æ–µ–∫—Ç: *Tele‚Ä¢Ga*\n–í–µ—Ç–∫–∞: \`main\`\nGitHub Actions –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ."

      - name: ‚ùå Telegram fail message
        if: failure()
        run: |
          curl -s -X POST https://api.telegram.org/bot${{ secrets.TELEGRAM_DEPLOY_BOT_TOKEN }}/sendMessage \
            -d chat_id=${{ secrets.TELEGRAM_DEPLOY_CHAT_ID }} \
            -d parse_mode=Markdown \
            -d text="‚ùå *–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ!*\n–í–µ—Ç–∫–∞: \`main\`\n–ü—Ä–æ–≤–µ—Ä—å GitHub Actions –ª–æ–≥–∏." 